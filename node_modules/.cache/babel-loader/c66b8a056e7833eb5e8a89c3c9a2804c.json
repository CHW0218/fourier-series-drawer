{"ast":null,"code":"import { factory } from '../../utils/factory.js';\nvar name = 'nthRoots';\nvar dependencies = ['config', 'typed', 'divideScalar', 'Complex'];\nexport var createNthRoots = /* #__PURE__ */factory(name, dependencies, function (_ref) {\n  var typed = _ref.typed,\n      config = _ref.config,\n      divideScalar = _ref.divideScalar,\n      Complex = _ref.Complex;\n  /**\n   * Each function here returns a real multiple of i as a Complex value.\n   * @param  {number} val\n   * @return {Complex} val, i*val, -val or -i*val for index 0, 1, 2, 3\n   */\n  // This is used to fix float artifacts for zero-valued components.\n\n  var _calculateExactResult = [function realPos(val) {\n    return new Complex(val, 0);\n  }, function imagPos(val) {\n    return new Complex(0, val);\n  }, function realNeg(val) {\n    return new Complex(-val, 0);\n  }, function imagNeg(val) {\n    return new Complex(0, -val);\n  }];\n  /**\n   * Calculate the nth root of a Complex Number a using De Movire's Theorem.\n   * @param  {Complex} a\n   * @param  {number} root\n   * @return {Array} array of n Complex Roots\n   */\n\n  function _nthComplexRoots(a, root) {\n    if (root < 0) throw new Error('Root must be greater than zero');\n    if (root === 0) throw new Error('Root must be non-zero');\n    if (root % 1 !== 0) throw new Error('Root must be an integer');\n    if (a === 0 || a.abs() === 0) return [new Complex(0, 0)];\n    var aIsNumeric = typeof a === 'number';\n    var offset; // determine the offset (argument of a)/(pi/2)\n\n    if (aIsNumeric || a.re === 0 || a.im === 0) {\n      if (aIsNumeric) {\n        offset = 2 * +(a < 0); // numeric value on the real axis\n      } else if (a.im === 0) {\n        offset = 2 * +(a.re < 0); // complex value on the real axis\n      } else {\n        offset = 2 * +(a.im < 0) + 1; // complex value on the imaginary axis\n      }\n    }\n\n    var arg = a.arg();\n    var abs = a.abs();\n    var roots = [];\n    var r = Math.pow(abs, 1 / root);\n\n    for (var k = 0; k < root; k++) {\n      var halfPiFactor = (offset + 4 * k) / root;\n      /**\n       * If (offset + 4*k)/root is an integral multiple of pi/2\n       * then we can produce a more exact result.\n       */\n\n      if (halfPiFactor === Math.round(halfPiFactor)) {\n        roots.push(_calculateExactResult[halfPiFactor % 4](r));\n        continue;\n      }\n\n      roots.push(new Complex({\n        r: r,\n        phi: (arg + 2 * Math.PI * k) / root\n      }));\n    }\n\n    return roots;\n  }\n  /**\n   * Calculate the nth roots of a value.\n   * An nth root of a positive real number A,\n   * is a positive real solution of the equation \"x^root = A\".\n   * This function returns an array of complex values.\n   *\n   * Syntax:\n   *\n   *    math.nthRoots(x)\n   *    math.nthRoots(x, root)\n   *\n   * Examples:\n   *\n   *    math.nthRoots(1)\n   *    // returns [\n   *    //   {re: 1, im: 0},\n   *    //   {re: -1, im: 0}\n   *    // ]\n   *    nthRoots(1, 3)\n   *    // returns [\n   *    //   { re: 1, im: 0 },\n   *    //   { re: -0.4999999999999998, im: 0.8660254037844387 },\n   *    //   { re: -0.5000000000000004, im: -0.8660254037844385 }\n   *    ]\n   *\n   * See also:\n   *\n   *    nthRoot, pow, sqrt\n   *\n   * @param {number | BigNumber | Fraction | Complex} x Number to be rounded\n   * @return {number | BigNumber | Fraction | Complex}            Rounded value\n   */\n\n\n  return typed(name, {\n    Complex: function Complex(x) {\n      return _nthComplexRoots(x, 2);\n    },\n    'Complex, number': _nthComplexRoots\n  });\n});","map":{"version":3,"names":["factory","name","dependencies","createNthRoots","_ref","typed","config","divideScalar","Complex","_calculateExactResult","realPos","val","imagPos","realNeg","imagNeg","_nthComplexRoots","a","root","Error","abs","aIsNumeric","offset","re","im","arg","roots","r","Math","pow","k","halfPiFactor","round","push","phi","PI","x"],"sources":["/Users/ayao/vscode/fourier-series-drawer/node_modules/mathjs/lib/esm/function/arithmetic/nthRoots.js"],"sourcesContent":["import { factory } from '../../utils/factory.js';\nvar name = 'nthRoots';\nvar dependencies = ['config', 'typed', 'divideScalar', 'Complex'];\nexport var createNthRoots = /* #__PURE__ */factory(name, dependencies, _ref => {\n  var {\n    typed,\n    config,\n    divideScalar,\n    Complex\n  } = _ref;\n\n  /**\n   * Each function here returns a real multiple of i as a Complex value.\n   * @param  {number} val\n   * @return {Complex} val, i*val, -val or -i*val for index 0, 1, 2, 3\n   */\n  // This is used to fix float artifacts for zero-valued components.\n  var _calculateExactResult = [function realPos(val) {\n    return new Complex(val, 0);\n  }, function imagPos(val) {\n    return new Complex(0, val);\n  }, function realNeg(val) {\n    return new Complex(-val, 0);\n  }, function imagNeg(val) {\n    return new Complex(0, -val);\n  }];\n  /**\n   * Calculate the nth root of a Complex Number a using De Movire's Theorem.\n   * @param  {Complex} a\n   * @param  {number} root\n   * @return {Array} array of n Complex Roots\n   */\n\n  function _nthComplexRoots(a, root) {\n    if (root < 0) throw new Error('Root must be greater than zero');\n    if (root === 0) throw new Error('Root must be non-zero');\n    if (root % 1 !== 0) throw new Error('Root must be an integer');\n    if (a === 0 || a.abs() === 0) return [new Complex(0, 0)];\n    var aIsNumeric = typeof a === 'number';\n    var offset; // determine the offset (argument of a)/(pi/2)\n\n    if (aIsNumeric || a.re === 0 || a.im === 0) {\n      if (aIsNumeric) {\n        offset = 2 * +(a < 0); // numeric value on the real axis\n      } else if (a.im === 0) {\n        offset = 2 * +(a.re < 0); // complex value on the real axis\n      } else {\n        offset = 2 * +(a.im < 0) + 1; // complex value on the imaginary axis\n      }\n    }\n\n    var arg = a.arg();\n    var abs = a.abs();\n    var roots = [];\n    var r = Math.pow(abs, 1 / root);\n\n    for (var k = 0; k < root; k++) {\n      var halfPiFactor = (offset + 4 * k) / root;\n      /**\n       * If (offset + 4*k)/root is an integral multiple of pi/2\n       * then we can produce a more exact result.\n       */\n\n      if (halfPiFactor === Math.round(halfPiFactor)) {\n        roots.push(_calculateExactResult[halfPiFactor % 4](r));\n        continue;\n      }\n\n      roots.push(new Complex({\n        r,\n        phi: (arg + 2 * Math.PI * k) / root\n      }));\n    }\n\n    return roots;\n  }\n  /**\n   * Calculate the nth roots of a value.\n   * An nth root of a positive real number A,\n   * is a positive real solution of the equation \"x^root = A\".\n   * This function returns an array of complex values.\n   *\n   * Syntax:\n   *\n   *    math.nthRoots(x)\n   *    math.nthRoots(x, root)\n   *\n   * Examples:\n   *\n   *    math.nthRoots(1)\n   *    // returns [\n   *    //   {re: 1, im: 0},\n   *    //   {re: -1, im: 0}\n   *    // ]\n   *    nthRoots(1, 3)\n   *    // returns [\n   *    //   { re: 1, im: 0 },\n   *    //   { re: -0.4999999999999998, im: 0.8660254037844387 },\n   *    //   { re: -0.5000000000000004, im: -0.8660254037844385 }\n   *    ]\n   *\n   * See also:\n   *\n   *    nthRoot, pow, sqrt\n   *\n   * @param {number | BigNumber | Fraction | Complex} x Number to be rounded\n   * @return {number | BigNumber | Fraction | Complex}            Rounded value\n   */\n\n\n  return typed(name, {\n    Complex: function Complex(x) {\n      return _nthComplexRoots(x, 2);\n    },\n    'Complex, number': _nthComplexRoots\n  });\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}