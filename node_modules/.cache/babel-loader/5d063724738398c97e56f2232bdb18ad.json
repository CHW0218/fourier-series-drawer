{"ast":null,"code":"// (c) 2018, Mariusz Nowak\n// SPDX-License-Identifier: ISC\n// Derived from https://github.com/medikoo/lru-queue\nexport function lruQueue(limit) {\n  var size = 0;\n  var base = 1;\n  var queue = Object.create(null);\n  var map = Object.create(null);\n  var index = 0;\n\n  var del = function del(id) {\n    var oldIndex = map[id];\n    if (!oldIndex) return;\n    delete queue[oldIndex];\n    delete map[id];\n    --size;\n    if (base !== oldIndex) return;\n\n    if (!size) {\n      index = 0;\n      base = 1;\n      return;\n    }\n\n    while (!hasOwnProperty.call(queue, ++base)) {\n      continue;\n    }\n  };\n\n  limit = Math.abs(limit);\n  return {\n    hit: function hit(id) {\n      var oldIndex = map[id];\n      var nuIndex = ++index;\n      queue[nuIndex] = id;\n      map[id] = nuIndex;\n\n      if (!oldIndex) {\n        ++size;\n        if (size <= limit) return undefined;\n        id = queue[base];\n        del(id);\n        return id;\n      }\n\n      delete queue[oldIndex];\n      if (base !== oldIndex) return undefined;\n\n      while (!hasOwnProperty.call(queue, ++base)) {\n        continue;\n      }\n\n      return undefined;\n    },\n    delete: del,\n    clear: function clear() {\n      size = index = 0;\n      base = 1;\n      queue = Object.create(null);\n      map = Object.create(null);\n    }\n  };\n}","map":{"version":3,"names":["lruQueue","limit","size","base","queue","Object","create","map","index","del","id","oldIndex","hasOwnProperty","call","Math","abs","hit","nuIndex","undefined","delete","clear"],"sources":["/Users/ayao/vscode/fourier-series-drawer/node_modules/mathjs/lib/esm/utils/lruQueue.js"],"sourcesContent":["// (c) 2018, Mariusz Nowak\n// SPDX-License-Identifier: ISC\n// Derived from https://github.com/medikoo/lru-queue\nexport function lruQueue(limit) {\n  var size = 0;\n  var base = 1;\n  var queue = Object.create(null);\n  var map = Object.create(null);\n  var index = 0;\n\n  var del = function del(id) {\n    var oldIndex = map[id];\n    if (!oldIndex) return;\n    delete queue[oldIndex];\n    delete map[id];\n    --size;\n    if (base !== oldIndex) return;\n\n    if (!size) {\n      index = 0;\n      base = 1;\n      return;\n    }\n\n    while (!hasOwnProperty.call(queue, ++base)) {\n      continue;\n    }\n  };\n\n  limit = Math.abs(limit);\n  return {\n    hit: function hit(id) {\n      var oldIndex = map[id];\n      var nuIndex = ++index;\n      queue[nuIndex] = id;\n      map[id] = nuIndex;\n\n      if (!oldIndex) {\n        ++size;\n        if (size <= limit) return undefined;\n        id = queue[base];\n        del(id);\n        return id;\n      }\n\n      delete queue[oldIndex];\n      if (base !== oldIndex) return undefined;\n\n      while (!hasOwnProperty.call(queue, ++base)) {\n        continue;\n      }\n\n      return undefined;\n    },\n    delete: del,\n    clear: function clear() {\n      size = index = 0;\n      base = 1;\n      queue = Object.create(null);\n      map = Object.create(null);\n    }\n  };\n}"],"mappings":"AAAA;AACA;AACA;AACA,OAAO,SAASA,QAAT,CAAkBC,KAAlB,EAAyB;EAC9B,IAAIC,IAAI,GAAG,CAAX;EACA,IAAIC,IAAI,GAAG,CAAX;EACA,IAAIC,KAAK,GAAGC,MAAM,CAACC,MAAP,CAAc,IAAd,CAAZ;EACA,IAAIC,GAAG,GAAGF,MAAM,CAACC,MAAP,CAAc,IAAd,CAAV;EACA,IAAIE,KAAK,GAAG,CAAZ;;EAEA,IAAIC,GAAG,GAAG,SAASA,GAAT,CAAaC,EAAb,EAAiB;IACzB,IAAIC,QAAQ,GAAGJ,GAAG,CAACG,EAAD,CAAlB;IACA,IAAI,CAACC,QAAL,EAAe;IACf,OAAOP,KAAK,CAACO,QAAD,CAAZ;IACA,OAAOJ,GAAG,CAACG,EAAD,CAAV;IACA,EAAER,IAAF;IACA,IAAIC,IAAI,KAAKQ,QAAb,EAAuB;;IAEvB,IAAI,CAACT,IAAL,EAAW;MACTM,KAAK,GAAG,CAAR;MACAL,IAAI,GAAG,CAAP;MACA;IACD;;IAED,OAAO,CAACS,cAAc,CAACC,IAAf,CAAoBT,KAApB,EAA2B,EAAED,IAA7B,CAAR,EAA4C;MAC1C;IACD;EACF,CAjBD;;EAmBAF,KAAK,GAAGa,IAAI,CAACC,GAAL,CAASd,KAAT,CAAR;EACA,OAAO;IACLe,GAAG,EAAE,SAASA,GAAT,CAAaN,EAAb,EAAiB;MACpB,IAAIC,QAAQ,GAAGJ,GAAG,CAACG,EAAD,CAAlB;MACA,IAAIO,OAAO,GAAG,EAAET,KAAhB;MACAJ,KAAK,CAACa,OAAD,CAAL,GAAiBP,EAAjB;MACAH,GAAG,CAACG,EAAD,CAAH,GAAUO,OAAV;;MAEA,IAAI,CAACN,QAAL,EAAe;QACb,EAAET,IAAF;QACA,IAAIA,IAAI,IAAID,KAAZ,EAAmB,OAAOiB,SAAP;QACnBR,EAAE,GAAGN,KAAK,CAACD,IAAD,CAAV;QACAM,GAAG,CAACC,EAAD,CAAH;QACA,OAAOA,EAAP;MACD;;MAED,OAAON,KAAK,CAACO,QAAD,CAAZ;MACA,IAAIR,IAAI,KAAKQ,QAAb,EAAuB,OAAOO,SAAP;;MAEvB,OAAO,CAACN,cAAc,CAACC,IAAf,CAAoBT,KAApB,EAA2B,EAAED,IAA7B,CAAR,EAA4C;QAC1C;MACD;;MAED,OAAOe,SAAP;IACD,CAvBI;IAwBLC,MAAM,EAAEV,GAxBH;IAyBLW,KAAK,EAAE,SAASA,KAAT,GAAiB;MACtBlB,IAAI,GAAGM,KAAK,GAAG,CAAf;MACAL,IAAI,GAAG,CAAP;MACAC,KAAK,GAAGC,MAAM,CAACC,MAAP,CAAc,IAAd,CAAR;MACAC,GAAG,GAAGF,MAAM,CAACC,MAAP,CAAc,IAAd,CAAN;IACD;EA9BI,CAAP;AAgCD"},"metadata":{},"sourceType":"module"}