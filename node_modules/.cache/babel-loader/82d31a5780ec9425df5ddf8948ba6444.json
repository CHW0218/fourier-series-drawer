{"ast":null,"code":"import { flatten } from '../../utils/array.js';\nimport { factory } from '../../utils/factory.js';\nimport { isMatrix, isNumber } from '../../utils/is.js';\nimport { createRng } from './util/seededRNG.js';\nvar name = 'pickRandom';\nvar dependencies = ['typed', 'config', '?on'];\nexport var createPickRandom = /* #__PURE__ */factory(name, dependencies, function (_ref) {\n  var typed = _ref.typed,\n      config = _ref.config,\n      on = _ref.on; // seeded pseudo random number generator\n\n  var rng = createRng(config.randomSeed);\n\n  if (on) {\n    on('config', function (curr, prev) {\n      if (curr.randomSeed !== prev.randomSeed) {\n        rng = createRng(curr.randomSeed);\n      }\n    });\n  }\n  /**\n   * Random pick one or more values from a one dimensional array.\n   * Array elements are picked using a random function with uniform or weighted distribution.\n   *\n   * Syntax:\n   *\n   *     math.pickRandom(array)\n   *     math.pickRandom(array, number)\n   *     math.pickRandom(array, weights)\n   *     math.pickRandom(array, number, weights)\n   *     math.pickRandom(array, weights, number)\n   *     math.pickRandom(array, { weights, number, elementWise })\n   *\n   * Examples:\n   *\n   *     math.pickRandom([3, 6, 12, 2])                  // returns one of the values in the array\n   *     math.pickRandom([3, 6, 12, 2], 2)               // returns an array of two of the values in the array\n   *     math.pickRandom([3, 6, 12, 2], { number: 2 })   // returns an array of two of the values in the array\n   *     math.pickRandom([3, 6, 12, 2], [1, 3, 2, 1])    // returns one of the values in the array with weighted distribution\n   *     math.pickRandom([3, 6, 12, 2], 2, [1, 3, 2, 1]) // returns an array of two of the values in the array with weighted distribution\n   *     math.pickRandom([3, 6, 12, 2], [1, 3, 2, 1], 2) // returns an array of two of the values in the array with weighted distribution\n   *\n   *     math.pickRandom([{x: 1.0, y: 2.0}, {x: 1.1, y: 2.0}], { elementWise: false })\n   *         // returns one of the items in the array\n   *\n   * See also:\n   *\n   *     random, randomInt\n   *\n   * @param {Array | Matrix} array     A one dimensional array\n   * @param {Int} number               An int or float\n   * @param {Array | Matrix} weights   An array of ints or floats\n   * @return {number | Array}          Returns a single random value from array when number is 1 or undefined.\n   *                                   Returns an array with the configured number of elements when number is > 1.\n   */\n\n\n  return typed(name, {\n    'Array | Matrix': function ArrayMatrix(possibles) {\n      return _pickRandom(possibles, {});\n    },\n    'Array | Matrix, Object': function ArrayMatrixObject(possibles, options) {\n      return _pickRandom(possibles, options);\n    },\n    'Array | Matrix, number': function ArrayMatrixNumber(possibles, number) {\n      return _pickRandom(possibles, {\n        number: number\n      });\n    },\n    'Array | Matrix, Array | Matrix': function ArrayMatrixArrayMatrix(possibles, weights) {\n      return _pickRandom(possibles, {\n        weights: weights\n      });\n    },\n    'Array | Matrix, Array | Matrix, number': function ArrayMatrixArrayMatrixNumber(possibles, weights, number) {\n      return _pickRandom(possibles, {\n        number: number,\n        weights: weights\n      });\n    },\n    'Array | Matrix, number, Array | Matrix': function ArrayMatrixNumberArrayMatrix(possibles, number, weights) {\n      return _pickRandom(possibles, {\n        number: number,\n        weights: weights\n      });\n    }\n  });\n  /**\n   * @param {Array | Matrix} possibles\n   * @param {{\n   *   number?: number,\n   *   weights?: Array | Matrix,\n   *   elementWise: boolean\n   * }} options\n   * @returns {number | Array}\n   * @private\n   */\n\n  function _pickRandom(possibles, _ref2) {\n    var number = _ref2.number,\n        weights = _ref2.weights,\n        _ref2$elementWise = _ref2.elementWise,\n        elementWise = _ref2$elementWise === void 0 ? true : _ref2$elementWise;\n    var single = typeof number === 'undefined';\n\n    if (single) {\n      number = 1;\n    }\n\n    var createMatrix = isMatrix(possibles) ? possibles.create : isMatrix(weights) ? weights.create : null;\n    possibles = possibles.valueOf(); // get Array\n\n    if (weights) {\n      weights = weights.valueOf(); // get Array\n    }\n\n    if (elementWise === true) {\n      possibles = flatten(possibles);\n      weights = flatten(weights);\n    }\n\n    var totalWeights = 0;\n\n    if (typeof weights !== 'undefined') {\n      if (weights.length !== possibles.length) {\n        throw new Error('Weights must have the same length as possibles');\n      }\n\n      for (var i = 0, len = weights.length; i < len; i++) {\n        if (!isNumber(weights[i]) || weights[i] < 0) {\n          throw new Error('Weights must be an array of positive numbers');\n        }\n\n        totalWeights += weights[i];\n      }\n    }\n\n    var length = possibles.length;\n    var result = [];\n    var pick;\n\n    while (result.length < number) {\n      if (typeof weights === 'undefined') {\n        pick = possibles[Math.floor(rng() * length)];\n      } else {\n        var randKey = rng() * totalWeights;\n\n        for (var _i = 0, _len = possibles.length; _i < _len; _i++) {\n          randKey -= weights[_i];\n\n          if (randKey < 0) {\n            pick = possibles[_i];\n            break;\n          }\n        }\n      }\n\n      result.push(pick);\n    }\n\n    return single ? result[0] : createMatrix ? createMatrix(result) : result;\n  }\n});","map":{"version":3,"names":["flatten","factory","isMatrix","isNumber","createRng","name","dependencies","createPickRandom","_ref","typed","config","on","rng","randomSeed","curr","prev","ArrayMatrix","possibles","_pickRandom","ArrayMatrixObject","options","ArrayMatrixNumber","number","ArrayMatrixArrayMatrix","weights","ArrayMatrixArrayMatrixNumber","ArrayMatrixNumberArrayMatrix","_ref2","elementWise","single","createMatrix","create","valueOf","totalWeights","length","Error","i","len","result","pick","Math","floor","randKey","_i","_len","push"],"sources":["/Users/ayao/vscode/fourier-series-drawer/node_modules/mathjs/lib/esm/function/probability/pickRandom.js"],"sourcesContent":["import { flatten } from '../../utils/array.js';\nimport { factory } from '../../utils/factory.js';\nimport { isMatrix, isNumber } from '../../utils/is.js';\nimport { createRng } from './util/seededRNG.js';\nvar name = 'pickRandom';\nvar dependencies = ['typed', 'config', '?on'];\nexport var createPickRandom = /* #__PURE__ */factory(name, dependencies, _ref => {\n  var {\n    typed,\n    config,\n    on\n  } = _ref;\n  // seeded pseudo random number generator\n  var rng = createRng(config.randomSeed);\n\n  if (on) {\n    on('config', function (curr, prev) {\n      if (curr.randomSeed !== prev.randomSeed) {\n        rng = createRng(curr.randomSeed);\n      }\n    });\n  }\n  /**\n   * Random pick one or more values from a one dimensional array.\n   * Array elements are picked using a random function with uniform or weighted distribution.\n   *\n   * Syntax:\n   *\n   *     math.pickRandom(array)\n   *     math.pickRandom(array, number)\n   *     math.pickRandom(array, weights)\n   *     math.pickRandom(array, number, weights)\n   *     math.pickRandom(array, weights, number)\n   *     math.pickRandom(array, { weights, number, elementWise })\n   *\n   * Examples:\n   *\n   *     math.pickRandom([3, 6, 12, 2])                  // returns one of the values in the array\n   *     math.pickRandom([3, 6, 12, 2], 2)               // returns an array of two of the values in the array\n   *     math.pickRandom([3, 6, 12, 2], { number: 2 })   // returns an array of two of the values in the array\n   *     math.pickRandom([3, 6, 12, 2], [1, 3, 2, 1])    // returns one of the values in the array with weighted distribution\n   *     math.pickRandom([3, 6, 12, 2], 2, [1, 3, 2, 1]) // returns an array of two of the values in the array with weighted distribution\n   *     math.pickRandom([3, 6, 12, 2], [1, 3, 2, 1], 2) // returns an array of two of the values in the array with weighted distribution\n   *\n   *     math.pickRandom([{x: 1.0, y: 2.0}, {x: 1.1, y: 2.0}], { elementWise: false })\n   *         // returns one of the items in the array\n   *\n   * See also:\n   *\n   *     random, randomInt\n   *\n   * @param {Array | Matrix} array     A one dimensional array\n   * @param {Int} number               An int or float\n   * @param {Array | Matrix} weights   An array of ints or floats\n   * @return {number | Array}          Returns a single random value from array when number is 1 or undefined.\n   *                                   Returns an array with the configured number of elements when number is > 1.\n   */\n\n\n  return typed(name, {\n    'Array | Matrix': function ArrayMatrix(possibles) {\n      return _pickRandom(possibles, {});\n    },\n    'Array | Matrix, Object': function ArrayMatrixObject(possibles, options) {\n      return _pickRandom(possibles, options);\n    },\n    'Array | Matrix, number': function ArrayMatrixNumber(possibles, number) {\n      return _pickRandom(possibles, {\n        number\n      });\n    },\n    'Array | Matrix, Array | Matrix': function ArrayMatrixArrayMatrix(possibles, weights) {\n      return _pickRandom(possibles, {\n        weights\n      });\n    },\n    'Array | Matrix, Array | Matrix, number': function ArrayMatrixArrayMatrixNumber(possibles, weights, number) {\n      return _pickRandom(possibles, {\n        number,\n        weights\n      });\n    },\n    'Array | Matrix, number, Array | Matrix': function ArrayMatrixNumberArrayMatrix(possibles, number, weights) {\n      return _pickRandom(possibles, {\n        number,\n        weights\n      });\n    }\n  });\n  /**\n   * @param {Array | Matrix} possibles\n   * @param {{\n   *   number?: number,\n   *   weights?: Array | Matrix,\n   *   elementWise: boolean\n   * }} options\n   * @returns {number | Array}\n   * @private\n   */\n\n  function _pickRandom(possibles, _ref2) {\n    var {\n      number,\n      weights,\n      elementWise = true\n    } = _ref2;\n    var single = typeof number === 'undefined';\n\n    if (single) {\n      number = 1;\n    }\n\n    var createMatrix = isMatrix(possibles) ? possibles.create : isMatrix(weights) ? weights.create : null;\n    possibles = possibles.valueOf(); // get Array\n\n    if (weights) {\n      weights = weights.valueOf(); // get Array\n    }\n\n    if (elementWise === true) {\n      possibles = flatten(possibles);\n      weights = flatten(weights);\n    }\n\n    var totalWeights = 0;\n\n    if (typeof weights !== 'undefined') {\n      if (weights.length !== possibles.length) {\n        throw new Error('Weights must have the same length as possibles');\n      }\n\n      for (var i = 0, len = weights.length; i < len; i++) {\n        if (!isNumber(weights[i]) || weights[i] < 0) {\n          throw new Error('Weights must be an array of positive numbers');\n        }\n\n        totalWeights += weights[i];\n      }\n    }\n\n    var length = possibles.length;\n    var result = [];\n    var pick;\n\n    while (result.length < number) {\n      if (typeof weights === 'undefined') {\n        pick = possibles[Math.floor(rng() * length)];\n      } else {\n        var randKey = rng() * totalWeights;\n\n        for (var _i = 0, _len = possibles.length; _i < _len; _i++) {\n          randKey -= weights[_i];\n\n          if (randKey < 0) {\n            pick = possibles[_i];\n            break;\n          }\n        }\n      }\n\n      result.push(pick);\n    }\n\n    return single ? result[0] : createMatrix ? createMatrix(result) : result;\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}