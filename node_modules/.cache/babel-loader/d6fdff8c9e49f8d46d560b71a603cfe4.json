{"ast":null,"code":"import { isInteger } from '../../../utils/number.js';\nimport { factory } from '../../../utils/factory.js';\nimport { createCsSqr } from '../sparse/csSqr.js';\nimport { createCsLu } from '../sparse/csLu.js';\nvar name = 'slu';\nvar dependencies = ['typed', 'abs', 'add', 'multiply', 'transpose', 'divideScalar', 'subtract', 'larger', 'largerEq', 'SparseMatrix'];\nexport var createSlu = /* #__PURE__ */factory(name, dependencies, function (_ref) {\n  var typed = _ref.typed,\n      abs = _ref.abs,\n      add = _ref.add,\n      multiply = _ref.multiply,\n      transpose = _ref.transpose,\n      divideScalar = _ref.divideScalar,\n      subtract = _ref.subtract,\n      larger = _ref.larger,\n      largerEq = _ref.largerEq,\n      SparseMatrix = _ref.SparseMatrix;\n  var csSqr = createCsSqr({\n    add: add,\n    multiply: multiply,\n    transpose: transpose\n  });\n  var csLu = createCsLu({\n    abs: abs,\n    divideScalar: divideScalar,\n    multiply: multiply,\n    subtract: subtract,\n    larger: larger,\n    largerEq: largerEq,\n    SparseMatrix: SparseMatrix\n  });\n  /**\n   * Calculate the Sparse Matrix LU decomposition with full pivoting. Sparse Matrix `A` is decomposed in two matrices (`L`, `U`) and two permutation vectors (`pinv`, `q`) where\n   *\n   * `P * A * Q = L * U`\n   *\n   * Syntax:\n   *\n   *    math.slu(A, order, threshold)\n   *\n   * Examples:\n   *\n   *    const A = math.sparse([[4,3], [6, 3]])\n   *    math.slu(A, 1, 0.001)\n   *    // returns:\n   *    // {\n   *    //   L: [[1, 0], [1.5, 1]]\n   *    //   U: [[4, 3], [0, -1.5]]\n   *    //   p: [0, 1]\n   *    //   q: [0, 1]\n   *    // }\n   *\n   * See also:\n   *\n   *    lup, lsolve, usolve, lusolve\n   *\n   * @param {SparseMatrix} A              A two dimensional sparse matrix for which to get the LU decomposition.\n   * @param {Number}       order          The Symbolic Ordering and Analysis order:\n   *                                       0 - Natural ordering, no permutation vector q is returned\n   *                                       1 - Matrix must be square, symbolic ordering and analisis is performed on M = A + A'\n   *                                       2 - Symbolic ordering and analisis is performed on M = A' * A. Dense columns from A' are dropped, A recreated from A'.\n   *                                           This is appropriatefor LU factorization of unsymmetric matrices.\n   *                                       3 - Symbolic ordering and analisis is performed on M = A' * A. This is best used for LU factorization is matrix M has no dense rows.\n   *                                           A dense row is a row with more than 10*sqr(columns) entries.\n   * @param {Number}       threshold       Partial pivoting threshold (1 for partial pivoting)\n   *\n   * @return {Object} The lower triangular matrix, the upper triangular matrix and the permutation vectors.\n   */\n\n  return typed(name, {\n    'SparseMatrix, number, number': function SparseMatrixNumberNumber(a, order, threshold) {\n      // verify order\n      if (!isInteger(order) || order < 0 || order > 3) {\n        throw new Error('Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]');\n      } // verify threshold\n\n\n      if (threshold < 0 || threshold > 1) {\n        throw new Error('Partial pivoting threshold must be a number from 0 to 1');\n      } // perform symbolic ordering and analysis\n\n\n      var s = csSqr(order, a, false); // perform lu decomposition\n\n      var f = csLu(a, s, threshold); // return decomposition\n\n      return {\n        L: f.L,\n        U: f.U,\n        p: f.pinv,\n        q: s.q,\n        toString: function toString() {\n          return 'L: ' + this.L.toString() + '\\nU: ' + this.U.toString() + '\\np: ' + this.p.toString() + (this.q ? '\\nq: ' + this.q.toString() : '') + '\\n';\n        }\n      };\n    }\n  });\n});","map":{"version":3,"names":["isInteger","factory","createCsSqr","createCsLu","name","dependencies","createSlu","_ref","typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix","csSqr","csLu","SparseMatrixNumberNumber","a","order","threshold","Error","s","f","L","U","p","pinv","q","toString"],"sources":["/Users/ayao/vscode/fourier-series-drawer/node_modules/mathjs/lib/esm/function/algebra/decomposition/slu.js"],"sourcesContent":["import { isInteger } from '../../../utils/number.js';\nimport { factory } from '../../../utils/factory.js';\nimport { createCsSqr } from '../sparse/csSqr.js';\nimport { createCsLu } from '../sparse/csLu.js';\nvar name = 'slu';\nvar dependencies = ['typed', 'abs', 'add', 'multiply', 'transpose', 'divideScalar', 'subtract', 'larger', 'largerEq', 'SparseMatrix'];\nexport var createSlu = /* #__PURE__ */factory(name, dependencies, _ref => {\n  var {\n    typed,\n    abs,\n    add,\n    multiply,\n    transpose,\n    divideScalar,\n    subtract,\n    larger,\n    largerEq,\n    SparseMatrix\n  } = _ref;\n  var csSqr = createCsSqr({\n    add,\n    multiply,\n    transpose\n  });\n  var csLu = createCsLu({\n    abs,\n    divideScalar,\n    multiply,\n    subtract,\n    larger,\n    largerEq,\n    SparseMatrix\n  });\n  /**\n   * Calculate the Sparse Matrix LU decomposition with full pivoting. Sparse Matrix `A` is decomposed in two matrices (`L`, `U`) and two permutation vectors (`pinv`, `q`) where\n   *\n   * `P * A * Q = L * U`\n   *\n   * Syntax:\n   *\n   *    math.slu(A, order, threshold)\n   *\n   * Examples:\n   *\n   *    const A = math.sparse([[4,3], [6, 3]])\n   *    math.slu(A, 1, 0.001)\n   *    // returns:\n   *    // {\n   *    //   L: [[1, 0], [1.5, 1]]\n   *    //   U: [[4, 3], [0, -1.5]]\n   *    //   p: [0, 1]\n   *    //   q: [0, 1]\n   *    // }\n   *\n   * See also:\n   *\n   *    lup, lsolve, usolve, lusolve\n   *\n   * @param {SparseMatrix} A              A two dimensional sparse matrix for which to get the LU decomposition.\n   * @param {Number}       order          The Symbolic Ordering and Analysis order:\n   *                                       0 - Natural ordering, no permutation vector q is returned\n   *                                       1 - Matrix must be square, symbolic ordering and analisis is performed on M = A + A'\n   *                                       2 - Symbolic ordering and analisis is performed on M = A' * A. Dense columns from A' are dropped, A recreated from A'.\n   *                                           This is appropriatefor LU factorization of unsymmetric matrices.\n   *                                       3 - Symbolic ordering and analisis is performed on M = A' * A. This is best used for LU factorization is matrix M has no dense rows.\n   *                                           A dense row is a row with more than 10*sqr(columns) entries.\n   * @param {Number}       threshold       Partial pivoting threshold (1 for partial pivoting)\n   *\n   * @return {Object} The lower triangular matrix, the upper triangular matrix and the permutation vectors.\n   */\n\n  return typed(name, {\n    'SparseMatrix, number, number': function SparseMatrixNumberNumber(a, order, threshold) {\n      // verify order\n      if (!isInteger(order) || order < 0 || order > 3) {\n        throw new Error('Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]');\n      } // verify threshold\n\n\n      if (threshold < 0 || threshold > 1) {\n        throw new Error('Partial pivoting threshold must be a number from 0 to 1');\n      } // perform symbolic ordering and analysis\n\n\n      var s = csSqr(order, a, false); // perform lu decomposition\n\n      var f = csLu(a, s, threshold); // return decomposition\n\n      return {\n        L: f.L,\n        U: f.U,\n        p: f.pinv,\n        q: s.q,\n        toString: function toString() {\n          return 'L: ' + this.L.toString() + '\\nU: ' + this.U.toString() + '\\np: ' + this.p.toString() + (this.q ? '\\nq: ' + this.q.toString() : '') + '\\n';\n        }\n      };\n    }\n  });\n});"],"mappings":"AAAA,SAASA,SAAT,QAA0B,0BAA1B;AACA,SAASC,OAAT,QAAwB,2BAAxB;AACA,SAASC,WAAT,QAA4B,oBAA5B;AACA,SAASC,UAAT,QAA2B,mBAA3B;AACA,IAAIC,IAAI,GAAG,KAAX;AACA,IAAIC,YAAY,GAAG,CAAC,OAAD,EAAU,KAAV,EAAiB,KAAjB,EAAwB,UAAxB,EAAoC,WAApC,EAAiD,cAAjD,EAAiE,UAAjE,EAA6E,QAA7E,EAAuF,UAAvF,EAAmG,cAAnG,CAAnB;AACA,OAAO,IAAIC,SAAS,GAAG,eAAeL,OAAO,CAACG,IAAD,EAAOC,YAAP,EAAqB,UAAAE,IAAI,EAAI;EACxE,IACEC,KADF,GAWID,IAXJ,CACEC,KADF;EAAA,IAEEC,GAFF,GAWIF,IAXJ,CAEEE,GAFF;EAAA,IAGEC,GAHF,GAWIH,IAXJ,CAGEG,GAHF;EAAA,IAIEC,QAJF,GAWIJ,IAXJ,CAIEI,QAJF;EAAA,IAKEC,SALF,GAWIL,IAXJ,CAKEK,SALF;EAAA,IAMEC,YANF,GAWIN,IAXJ,CAMEM,YANF;EAAA,IAOEC,QAPF,GAWIP,IAXJ,CAOEO,QAPF;EAAA,IAQEC,MARF,GAWIR,IAXJ,CAQEQ,MARF;EAAA,IASEC,QATF,GAWIT,IAXJ,CASES,QATF;EAAA,IAUEC,YAVF,GAWIV,IAXJ,CAUEU,YAVF;EAYA,IAAIC,KAAK,GAAGhB,WAAW,CAAC;IACtBQ,GAAG,EAAHA,GADsB;IAEtBC,QAAQ,EAARA,QAFsB;IAGtBC,SAAS,EAATA;EAHsB,CAAD,CAAvB;EAKA,IAAIO,IAAI,GAAGhB,UAAU,CAAC;IACpBM,GAAG,EAAHA,GADoB;IAEpBI,YAAY,EAAZA,YAFoB;IAGpBF,QAAQ,EAARA,QAHoB;IAIpBG,QAAQ,EAARA,QAJoB;IAKpBC,MAAM,EAANA,MALoB;IAMpBC,QAAQ,EAARA,QANoB;IAOpBC,YAAY,EAAZA;EAPoB,CAAD,CAArB;EASA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEE,OAAOT,KAAK,CAACJ,IAAD,EAAO;IACjB,gCAAgC,SAASgB,wBAAT,CAAkCC,CAAlC,EAAqCC,KAArC,EAA4CC,SAA5C,EAAuD;MACrF;MACA,IAAI,CAACvB,SAAS,CAACsB,KAAD,CAAV,IAAqBA,KAAK,GAAG,CAA7B,IAAkCA,KAAK,GAAG,CAA9C,EAAiD;QAC/C,MAAM,IAAIE,KAAJ,CAAU,uFAAV,CAAN;MACD,CAJoF,CAInF;;;MAGF,IAAID,SAAS,GAAG,CAAZ,IAAiBA,SAAS,GAAG,CAAjC,EAAoC;QAClC,MAAM,IAAIC,KAAJ,CAAU,yDAAV,CAAN;MACD,CAToF,CASnF;;;MAGF,IAAIC,CAAC,GAAGP,KAAK,CAACI,KAAD,EAAQD,CAAR,EAAW,KAAX,CAAb,CAZqF,CAYrD;;MAEhC,IAAIK,CAAC,GAAGP,IAAI,CAACE,CAAD,EAAII,CAAJ,EAAOF,SAAP,CAAZ,CAdqF,CActD;;MAE/B,OAAO;QACLI,CAAC,EAAED,CAAC,CAACC,CADA;QAELC,CAAC,EAAEF,CAAC,CAACE,CAFA;QAGLC,CAAC,EAAEH,CAAC,CAACI,IAHA;QAILC,CAAC,EAAEN,CAAC,CAACM,CAJA;QAKLC,QAAQ,EAAE,SAASA,QAAT,GAAoB;UAC5B,OAAO,QAAQ,KAAKL,CAAL,CAAOK,QAAP,EAAR,GAA4B,OAA5B,GAAsC,KAAKJ,CAAL,CAAOI,QAAP,EAAtC,GAA0D,OAA1D,GAAoE,KAAKH,CAAL,CAAOG,QAAP,EAApE,IAAyF,KAAKD,CAAL,GAAS,UAAU,KAAKA,CAAL,CAAOC,QAAP,EAAnB,GAAuC,EAAhI,IAAsI,IAA7I;QACD;MAPI,CAAP;IASD;EA1BgB,CAAP,CAAZ;AA4BD,CA7F4C,CAAtC"},"metadata":{},"sourceType":"module"}